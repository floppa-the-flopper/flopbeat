f = (midi, h) => {
	d = [];
	for(i = 0; i < (midi.length / 16); i++) {
		[a, b, c] = [
			parseInt(midi.substr(i * 16, 4), 16),
			parseInt(midi.substr(i * 16 + 4, 8), 16),
			parseInt(midi.substr(i * 16 + 12, 4), 16)];
		d.push([a, b, c]);
	}
	return d.map(([q, r, s]) =>
		t * s / 64 & 16 * ((tick % h) >= r && (tick % h) < (q + r))).reduce((a, b) => a + b);
},
midi = [
	'01e000000000004801e000000000005501e000000000006c01e0000001e0004c01e0000001e0006001e0000001e0007201e000' +
	'0003c0004001e0000003c0004c01e0000003c0006001e0000005a0004c01e0000005a0006001e0000005a00072',
	'003c000000000048003c00000000006c003c0000003c0055003c00000078006c003c000000b40080003c000000b4006c003c00' +
	'0000f00090003c0000012c00ab003c0000016800d7003c00000168006c003c000001a40100003c000001a40080003c000001e0' +
	'004c003c000001e00098003c0000021c0060003c000002580072003c000002580090003c000002940090003c00000294006000' +
	'3c000002d00098003c000002d00072003c0000030c00c0003c0000030c0080003c0000034800e4003c000003480072003c0000' +
	'0384011f003c000003840060003c000003c00040003c000003c00072003c000003fc004c003c000003fc0098003c0000043800' +
	'60003c000004380080003c000004740072003c000004740098003c000004b00080003c000004ec0098003c0000052800c0003c' +
	'0000056400e4003c000005640072003c000005a0004c003c000005dc0060003c000006180072003c000006540090003c000006' +
	'540060003c000006900098003c000006900072003c000006cc00c0003c0000070800e4003c00000708004c003c000007080090' +
	'003c00000744011f003c000007440090'],
tick = t / 16,
f(midi[1], 1920) + f(midi[0], 1920);
